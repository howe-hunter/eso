; This Add-on is not created by, affiliated with or sponsored by ZeniMax Media
; Inc. or its affiliates. The Elder Scrolls and related logos are registered
; trademarks or trademarks of ZeniMax Media Inc. in the United States and/or
; other countries. All rights reserved.
; https://account.elderscrollsonline.com/add-on-terms

## Title: LibMultiAccountSets
## Description: Library for tracking Item Set Collection progress across multiple accounts
## Author: @code65536
## IsLibrary: true
## Version: 3.0.5
## AddOnVersion: 17
## APIVersion: 101038
## SavedVariables: LibMultiAccountSetsSavedVariables LibMultiAccountSetsData
## OptionalDependsOn: LibAddonMenu-2.0

LibCodesCommonCode.lua
LibDataExportImport.lua

l10n/default.lua
l10n/$(language).lua

Internal.lua
Public.lua
Settings.lua

; Changelog:
;
; Version 3.0.5 (2023/06/29)
; * Fixed a potential Lua error that may arise from a group-related game bug
;
; Version 3.0.4 (2023/03/11)
; * API version bump for Update 37 (Scribes of Fate)
;
; Version 3.0.3 (2022/08/29)
; * Worked around a text box display issue when exporting or importing very
;   large data sets
;
; Version 3.0.2 (2022/03/09)
; * For addon developers: Added optional alwaysIncludeCurrentAccount parameter
;   to GetServerAndAccountList
;
; Version 3.0.1 (2022/03/03)
; * For addon developers: Removed GetAccountListEx; GetAccountList still exists,
;   and GetServerAndAccountList can be used for querying foreign server accounts
;
; Version 3.0.0 (2022/02/23)
; * For addon developers: It is now possible to query item set collection data
;   for accounts on another server using new extended variants of the current
;   functions; see the documentation for more details
;
; Version 2.0.6 (2021/09/28)
; * API version bump for Update 32 (The Deadlands)
;
; Version 2.0.5 (2021/05/24)
; * When exporting data for multiple accounts using the data sharing feature,
;   more recent data sets will now be prioritized in cases where the amount of
;   exported data exceeds the data limit (the data sets for the current server
;   will continue to take priority over those for another server)
;
; Version 2.0.4 (2021/04/30)
; * Updated French localization by @jakez31
;
; Version 2.0.3 (2021/03/28)
; * All excluded accounts will now be deleted from the addon's data, rather than
;   being deleted only when the user logs in with that account; this brings the
;   behavior of this feature to parity with LibCharacterKnowledge and allows a
;   way for users to delete imported data for accounts that they do not control
;
; Version 2.0.2 (2021/03/22)
; * For addon developers: Added GetRawData and SetRawData
;
; Version 2.0.1 (2021/03/16)
; * Fixed a rare issue that could potentially cause data imports to fail
;
; Version 2.0.0 (2021/03/04)
; * Internal code restructuring
; * Improved the handling of trade eligibility during the period of time after a
;   BoP-tradeable item's eligibility has expired but before the game recognizes
;   that the item has been bound
; * LibMultiAccountSets will now retain a record of when an account was last
;   scanned, and this data is used by the export/import data sharing feature to
;   protect imports from overwriting newer data with older data; unfortunately,
;   this required a change in the format of the exported data, and the exported
;   data generated by older versions of LibMultiAccountSets is not compatible
;   with version 2.0 and vice-versa, so two users who wish to share data with
;   each other should both update to the latest version
; * The export/import user interface for LibMultiAccountSets can now be used to
;   import data for LibCharacterKnowledge and vice-versa
; * Improved the messaging that users see when importing new accounts
; * For addon developers: Added GetLastScanTime
;
; Version 1.7.1 (2021/01/06)
; * Added French localization by @jakez31
;
; Version 1.7.0 (2021/01/01)
; * For addon developers: Reworked GetItemCollectionAndTradabilityStatus
; * For addon developers: Added OpenSettingsPanel
;
; Versions 1.6.0 to 1.6.1 (2020/12/29)
; * For addon developers: Added GetItemCollectionAndTradeStatus
;
; Version 1.5.0 (2020/12/08)
; * The export/import data sharing feature will now use account names in an
;   "undecorated" format to avoid the problem of Discord converting account
;   names into Discord usernames; unfortunately, this required a change in the
;   format of the exported data, and the exported data generated by older
;   versions of LibMultiAccountSets is not compatible with version 1.5 and
;   vice-versa, so two users who wish to share data with each other should both
;   update to the latest version
;
; Version 1.4.1 (2020/12/04)
; * The LibMultiAccountSets addon settings panel now includes a hint about the
;   availability of an optional chat command to access the settings panel
;
; Version 1.4.0 (2020/12/03)
; * Reorganized the LibMultiAccountSets addon settings panel
; * Added a third export option for the data sharing feature, to export the data
;   for a persistent list of selected accounts; by using this new export option,
;   users with multiple accounts can easily share their accounts' data without
;   inadvertently re-exporting their friends' data
;
; Version 1.3.3 (2020/11/30)
; * Increased the number of accounts that can be excluded from being saved
;
; Version 1.3.2 (2020/11/28)
; * Outdated addons attempting to call a discontinued function will now fail
;   gracefully instead of throwing a Lua error
;
; Version 1.3.1 (2020/11/27)
; * The export function of the data sharing feature will now automatically
;   select the export data text to facilitate copying to the clipboard
;
; Version 1.3.0 (2020/11/25)
; * For addon developers: Added GetItemReconstructionCurrencyOptionCostForAccount
; * For addon developers: Removed AddAccountsCollectionStatusToTooltip
;
; Version 1.2.0 (2020/11/21)
; * For addon developers: Addons using LibMultiAccountSets can now register for
;   callbacks; see the LibMultiAccountSets web page for documentation
;
; Version 1.1.0 (2020/11/18)
; * The export/import data sharing feature now includes a more robust check for
;   data integrity; unfortunately, this required a change in the format of the
;   exported data, and the exported data generated by LibMultiAccountSets
;   version 1.0 is not compatible with version 1.1 and vice-versa, so two users
;   who wish to share data with each other must both update to version 1.1
; * Added an option to change the colors of the account collection status text
;   that can be added to item tooltips by addons using LibMultiAccountSets
;
; Version 1.0.0 (2020/11/17)
; * Initial version
